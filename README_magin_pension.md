# 김성일 마법의 연금굴리기 포트폴리오 관리 시스템

Streamlit을 사용한 한국 주식 포트폴리오 관리 웹 애플리케이션입니다.

## 📋 개요

김성일 마법의 연금굴리기 전략에 따른 포트폴리오를 관리하고 리밸런싱을 계산하는 도구입니다.

## 🎯 포트폴리오 구성

- **위험자산 (67%)**
  - 선진국 24%: KODEX 미국 S&P500TR + ACE 미국 S&P500TR
  - 신흥국 24%: KOSEF 200TR (8%) + KODEX 차이나CSI300 (8%) + KODEX 인도 NIFTY50 (8%)

- **대체 투자 (19%)**
  - 금: TIGER KRX금현물 + ACE KRX금현물

- **안전자산 (33%)**
  - 한국 국채 14%: RISE KIS 국고채30년 Enhanced
  - 미국 국채 14%: KODEX 미국채 10년선물 (7%) + ACE 미국30년 국채액티브(H) (7%)

- **현금성 자산 (5%)**
  - TIGER KOFR금리액티브(합성)

## 🚀 설치 및 실행

### 1. 필수 패키지 설치

```bash
pip install -r requirements_magin_pension.txt
```

### 2. 애플리케이션 실행

```bash
streamlit run magin_pension_portfolio.py
```

### 3. 브라우저에서 접속

기본적으로 `http://localhost:8501`에서 실행됩니다.

## 💡 사용 방법

1. **총 자산 입력**: 왼쪽 사이드바에서 평가금 + 예수금을 입력하세요.
2. **원금 입력**: 초기 투자금을 입력하세요 (수익률 계산용).
3. **보유 수량 입력**: 현재 보유하고 있는 각 종목의 수량을 입력하세요.
4. **가격 조회**: '가격 조회 및 계산' 버튼을 클릭하여 현재 가격을 조회합니다.
5. **구매 수량 입력**: 계산된 수량을 참고하여 실제 구매할 수량을 입력하세요.
6. **리밸런싱 확인**: 리밸런싱 섹션에서 매수/매도 필요 수량을 확인하세요.

## 📊 주요 기능

- ✅ 실시간 주가 조회 (yfinance 사용)
- ✅ 포트폴리오 비중 계산
- ✅ 구매 수량 계산
- ✅ 리밸런싱 계산 (매수/매도 수량)
- ✅ 수익률 계산
- ✅ 보유 수량 저장 (세션 상태)

## 📝 참고사항

- **S&P500 신규 매수**: ACE 미국 S&P500TR 권장 (보수 낮음)
- **금 신규 매수**: TIGER KRX금현물 권장 (보수 낮음)
- 보유 수량은 세션 상태에 저장되며, 페이지를 새로고침하면 초기화됩니다.
- 한국 주식 티커는 `KRX:티커번호` 형식으로 입력되어 있습니다.

## 🔧 기술 스택

- Python 3.8+
- Streamlit
- yfinance
- pandas
- numpy

## 📄 라이선스

이 프로젝트는 개인 사용 목적으로 제작되었습니다.

## ⚠️ 면책 조항

이 도구는 투자 조언을 제공하지 않으며, 투자 결정은 사용자의 책임입니다. 
실제 투자 전에 충분한 검토와 전문가 상담을 권장합니다.

